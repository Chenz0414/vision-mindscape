import type { RiskItem } from "./types";

export const STORAGE_KEY = "contract-audit-settings";

export const DEFAULT_PROMPT = `你是一位资深的法务合同审查专家。请仔细审查以下合同文本，找出其中的法律风险和问题条款。

【极其重要】关于 excerpt 字段的要求：
- excerpt 必须是从合同原文中【逐字逐句复制粘贴】的内容，不得修改任何一个字
- 不要改写、概括、缩写或重新组织原文
- 不要添加原文中没有的字词
- 不要省略原文中的标点符号、数字编号（如"3.2"、"4.1"等）
- 直接从原文中选取连续的一句或多句话作为 excerpt
- 如果你无法确定精确的原文，宁可多引用一些上下文，也不要改写

请返回严格的JSON格式（不要markdown包裹）：
{
  "risks": [
    {
      "level": "high 或 medium 或 info",
      "title": "风险点简述（简短标题）",
      "excerpt": "【必须是原文的逐字复制，一个字都不能改】",
      "analysis": "对该风险的详细分析、理由和解释说明",
      "suggestion": "【只写修改后的完整条款文本，直接替换excerpt的内容】"
    }
  ],
  "summary": "一句话总结合同的整体风险水平"
}

【关于 suggestion 字段的极其重要的要求】：
- suggestion 字段【只能】包含修改后的合同条款文本，用于直接替换 excerpt 中的原文
- 绝对不要在 suggestion 中写"建议修改为"、"可以改为"、"原因是"等分析性文字
- 所有分析、解释、理由必须写在 analysis 字段中，不要写在 suggestion 中
- suggestion 的内容必须能直接粘贴进合同，读起来就是一段正式的合同条款

风险等级说明：
- high: 高危风险，可能导致重大经济损失或法律纠纷
- medium: 中等风险，存在瑕疵需要修订
- info: 提示信息，建议补充或完善的条款

合同文本：
{contract}`;

export const MOCK_CONTRACT = `甲方：XX科技有限公司
乙方：YY智能科技有限公司

第一条 服务内容
甲方委托乙方提供人工智能数据处理及模型训练服务，具体内容详见附件一。

第二条 服务期限
本合同自签订之日起生效，有效期为12个月。

第三条 费用与结算
服务总费用为人民币壹佰贰拾万元整（¥1,200,000）。结算按月进行。

第四条 知识产权
乙方基于本服务产生的所有衍生数据及训练模型均归甲方所有。

第五条 保密条款
双方对本合同内容及在合作过程中知悉的对方商业秘密负有保密义务。

第六条 违约责任
任何一方违反本合同约定的，应向对方支付合同总金额30%的违约金。

第七条 争议解决
凡因本合同引起的争议，均提交甲方所在地法院管辖。

第八条 其他
本合同一式两份，甲乙双方各执一份，具有同等法律效力。`;

export const MOCK_RISKS: RiskItem[] = [
  {
    id: "risk-1",
    level: "high",
    title: "管辖权条款异常",
    excerpt: "凡因本合同引起的争议，均提交甲方所在地法院管辖。",
    analysis: "仅约定甲方所在地法院管辖，可能导致乙方异地诉讼成本过高，存在显失公平风险。",
    suggestion: "凡因本合同引起的争议，双方应首先友好协商解决；协商不成的，任何一方均可向被告住所地有管辖权的人民法院提起诉讼。",
    excerptStart: -1,
    excerptEnd: -1,
  },
  {
    id: "risk-2",
    level: "high",
    title: "API 数据与算法产权归属",
    excerpt: "乙方基于本服务产生的所有衍生数据及训练模型均归甲方所有。",
    analysis: "将所有衍生数据和模型一律归甲方，未区分通用技术成果与定制成果，可能导致乙方丧失核心技术资产。",
    suggestion: "基于甲方业务数据产生的定制化模型及衍生数据归甲方所有，乙方保留底层算法、通用模型及基础代码的知识产权。",
    excerptStart: -1,
    excerptEnd: -1,
  },
  {
    id: "risk-3",
    level: "info",
    title: "支付通道费率变动未约定",
    excerpt: "结算按月进行。",
    analysis: "仅约定按月结算，未明确结算周期、付款方式、开票要求，也未约定第三方支付费率变动时的分担机制。",
    suggestion: "服务费按月结算，甲方应在每月5日前支付上月服务费用。若第三方支付网关费率调整，双方应另行协商分担比例。",
    excerptStart: -1,
    excerptEnd: -1,
  },
];
